<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title> 软件架构基础 1：基本介绍 | 多颗糖</title>
<meta name="keywords" content="架构" />
<meta name="description" content="《软件架构基础（Fundamentals of Software Architecture）》被誉为和《设计数据密集型应用》一样经典的后端书籍，架构师的入门指南。本篇为该书第一章的读书笔记。
如今，全球范围内“架构师”这一头衔炒得十分火热，但没有真正的指南来帮助开发人员成为软件架构师。
这本书主要有三部分内容：基础、架构风格、技术和软技能。基础部分是关于软件体系结构的一般概念；架构风格部分介绍了不同的架构风格，并以一些架构特征标准进行评价；技术和软技能部分涵盖了很多好的概念，包括做出健康的架构决策、风险分析技术、演讲能力、管理团队关系、谈判、架构师职业规划等。
 架构就是关于重要的东西&hellip;&hellip;不管那是什么。—— Ralph Johnson
 1. 什么是软件架构 学习架构就像学习艺术一样，读者必须要在特定的背景下去理解它。
在一个动态系统中，不存在一劳永逸的解决方案。
学习架构时，必须放在上下文中理解。架构师做的许多决定都是基于他们所处的实际情况。
 例如，在 20 世纪末的主要目标是有效地利用共享资源，因为当时所有的基础设施都是昂贵的商业化产品：操作系统、服务器和数据库等等。如果你在 2002 年告诉主管，“我有一个革命性的架构好主意，每个服务都运行在自己隔离的机器上，有自己的专用数据库……（即描述今天的微服务架构）所以，我需要 50 个 Windows 的许可证，另外 30 个服务器许可证，以及至少 50 个数据库许可证。”在 2002 年想构建这样的微服务架构成本之高难以想象。然而这几年，随着开源运动的兴起，以及 DevOps 的出现，我们可以合理地构建一个如上所述的架构。
 整个行业都在努力精确定义“软件架构”，有些称为系统的蓝图，有些定义为开发的路线图。本书关于架构的定义主要从四个方面：
 系统的结构（Structure） 系统所支持的架构特性、能力（Architecture characteristics） 架构决策（Architecture decisions） 设计原则（Design principles）  系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。 架构特性多以 &ldquo;-ility&rdquo; 结尾（例如 Availability、Scalability） 架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。 设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。 2. 对架构师的 8 个期待 2.1 做出架构决定 架构师应确定架构和设计原则，用于指导团队、部门或整个企业的技术决策。
架构师应该指导而不是指定技术选择。例如，架构师应该决定开发团队使用基于响应式 (Reactive) 的框架进行开发，从而指导开发团队在 Angular、Elm、React.js、Vue 或其他任何基于响应式的 Web 框架之间做出选择。
架构师偶尔需要做出特定的技术决策，以保留特定的架构特性，如可扩展性、性能或可用性。">
<meta name="author" content="多颗糖">
<link rel="canonical" href="https://tangwz.com/post/fosa1/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://tangwz.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tangwz.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tangwz.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tangwz.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://tangwz.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-72128068-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content=" 软件架构基础 1：基本介绍" />
<meta property="og:description" content="《软件架构基础（Fundamentals of Software Architecture）》被誉为和《设计数据密集型应用》一样经典的后端书籍，架构师的入门指南。本篇为该书第一章的读书笔记。
如今，全球范围内“架构师”这一头衔炒得十分火热，但没有真正的指南来帮助开发人员成为软件架构师。
这本书主要有三部分内容：基础、架构风格、技术和软技能。基础部分是关于软件体系结构的一般概念；架构风格部分介绍了不同的架构风格，并以一些架构特征标准进行评价；技术和软技能部分涵盖了很多好的概念，包括做出健康的架构决策、风险分析技术、演讲能力、管理团队关系、谈判、架构师职业规划等。
 架构就是关于重要的东西&hellip;&hellip;不管那是什么。—— Ralph Johnson
 1. 什么是软件架构 学习架构就像学习艺术一样，读者必须要在特定的背景下去理解它。
在一个动态系统中，不存在一劳永逸的解决方案。
学习架构时，必须放在上下文中理解。架构师做的许多决定都是基于他们所处的实际情况。
 例如，在 20 世纪末的主要目标是有效地利用共享资源，因为当时所有的基础设施都是昂贵的商业化产品：操作系统、服务器和数据库等等。如果你在 2002 年告诉主管，“我有一个革命性的架构好主意，每个服务都运行在自己隔离的机器上，有自己的专用数据库……（即描述今天的微服务架构）所以，我需要 50 个 Windows 的许可证，另外 30 个服务器许可证，以及至少 50 个数据库许可证。”在 2002 年想构建这样的微服务架构成本之高难以想象。然而这几年，随着开源运动的兴起，以及 DevOps 的出现，我们可以合理地构建一个如上所述的架构。
 整个行业都在努力精确定义“软件架构”，有些称为系统的蓝图，有些定义为开发的路线图。本书关于架构的定义主要从四个方面：
 系统的结构（Structure） 系统所支持的架构特性、能力（Architecture characteristics） 架构决策（Architecture decisions） 设计原则（Design principles）  系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。 架构特性多以 &ldquo;-ility&rdquo; 结尾（例如 Availability、Scalability） 架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。 设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。 2. 对架构师的 8 个期待 2.1 做出架构决定 架构师应确定架构和设计原则，用于指导团队、部门或整个企业的技术决策。
架构师应该指导而不是指定技术选择。例如，架构师应该决定开发团队使用基于响应式 (Reactive) 的框架进行开发，从而指导开发团队在 Angular、Elm、React.js、Vue 或其他任何基于响应式的 Web 框架之间做出选择。
架构师偶尔需要做出特定的技术决策，以保留特定的架构特性，如可扩展性、性能或可用性。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tangwz.com/post/fosa1/" /><meta property="og:image" content="https://tangwz.com/"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-01-07T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-01-07T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://tangwz.com/"/>

<meta name="twitter:title" content=" 软件架构基础 1：基本介绍"/>
<meta name="twitter:description" content="《软件架构基础（Fundamentals of Software Architecture）》被誉为和《设计数据密集型应用》一样经典的后端书籍，架构师的入门指南。本篇为该书第一章的读书笔记。
如今，全球范围内“架构师”这一头衔炒得十分火热，但没有真正的指南来帮助开发人员成为软件架构师。
这本书主要有三部分内容：基础、架构风格、技术和软技能。基础部分是关于软件体系结构的一般概念；架构风格部分介绍了不同的架构风格，并以一些架构特征标准进行评价；技术和软技能部分涵盖了很多好的概念，包括做出健康的架构决策、风险分析技术、演讲能力、管理团队关系、谈判、架构师职业规划等。
 架构就是关于重要的东西&hellip;&hellip;不管那是什么。—— Ralph Johnson
 1. 什么是软件架构 学习架构就像学习艺术一样，读者必须要在特定的背景下去理解它。
在一个动态系统中，不存在一劳永逸的解决方案。
学习架构时，必须放在上下文中理解。架构师做的许多决定都是基于他们所处的实际情况。
 例如，在 20 世纪末的主要目标是有效地利用共享资源，因为当时所有的基础设施都是昂贵的商业化产品：操作系统、服务器和数据库等等。如果你在 2002 年告诉主管，“我有一个革命性的架构好主意，每个服务都运行在自己隔离的机器上，有自己的专用数据库……（即描述今天的微服务架构）所以，我需要 50 个 Windows 的许可证，另外 30 个服务器许可证，以及至少 50 个数据库许可证。”在 2002 年想构建这样的微服务架构成本之高难以想象。然而这几年，随着开源运动的兴起，以及 DevOps 的出现，我们可以合理地构建一个如上所述的架构。
 整个行业都在努力精确定义“软件架构”，有些称为系统的蓝图，有些定义为开发的路线图。本书关于架构的定义主要从四个方面：
 系统的结构（Structure） 系统所支持的架构特性、能力（Architecture characteristics） 架构决策（Architecture decisions） 设计原则（Design principles）  系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。 架构特性多以 &ldquo;-ility&rdquo; 结尾（例如 Availability、Scalability） 架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。 设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。 2. 对架构师的 8 个期待 2.1 做出架构决定 架构师应确定架构和设计原则，用于指导团队、部门或整个企业的技术决策。
架构师应该指导而不是指定技术选择。例如，架构师应该决定开发团队使用基于响应式 (Reactive) 的框架进行开发，从而指导开发团队在 Angular、Elm、React.js、Vue 或其他任何基于响应式的 Web 框架之间做出选择。
架构师偶尔需要做出特定的技术决策，以保留特定的架构特性，如可扩展性、性能或可用性。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://tangwz.com/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": " 软件架构基础 1：基本介绍",
      "item": "https://tangwz.com/post/fosa1/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": " 软件架构基础 1：基本介绍",
  "name": " 软件架构基础 1：基本介绍",
  "description": "《软件架构基础（Fundamentals of Software Architecture）》被誉为和《设计数据密集型应用》一样经典的后端书籍，架构师的入门指南。本篇为该书第一章的读书笔记。\n如今，全球范围内“架构师”这一头衔炒得十分火热，但没有真正的指南来帮助开发人员成为软件架构师。\n这本书主要有三部分内容：基础、架构风格、技术和软技能。基础部分是关于软件体系结构的一般概念；架构风格部分介绍了不同的架构风格，并以一些架构特征标准进行评价；技术和软技能部分涵盖了很多好的概念，包括做出健康的架构决策、风险分析技术、演讲能力、管理团队关系、谈判、架构师职业规划等。\n 架构就是关于重要的东西\u0026hellip;\u0026hellip;不管那是什么。—— Ralph Johnson\n 1. 什么是软件架构 学习架构就像学习艺术一样，读者必须要在特定的背景下去理解它。\n在一个动态系统中，不存在一劳永逸的解决方案。\n学习架构时，必须放在上下文中理解。架构师做的许多决定都是基于他们所处的实际情况。\n 例如，在 20 世纪末的主要目标是有效地利用共享资源，因为当时所有的基础设施都是昂贵的商业化产品：操作系统、服务器和数据库等等。如果你在 2002 年告诉主管，“我有一个革命性的架构好主意，每个服务都运行在自己隔离的机器上，有自己的专用数据库……（即描述今天的微服务架构）所以，我需要 50 个 Windows 的许可证，另外 30 个服务器许可证，以及至少 50 个数据库许可证。”在 2002 年想构建这样的微服务架构成本之高难以想象。然而这几年，随着开源运动的兴起，以及 DevOps 的出现，我们可以合理地构建一个如上所述的架构。\n 整个行业都在努力精确定义“软件架构”，有些称为系统的蓝图，有些定义为开发的路线图。本书关于架构的定义主要从四个方面：\n 系统的结构（Structure） 系统所支持的架构特性、能力（Architecture characteristics） 架构决策（Architecture decisions） 设计原则（Design principles）  系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。 架构特性多以 \u0026ldquo;-ility\u0026rdquo; 结尾（例如 Availability、Scalability） 架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。 设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。 2. 对架构师的 8 个期待 2.1 做出架构决定 架构师应确定架构和设计原则，用于指导团队、部门或整个企业的技术决策。\n架构师应该指导而不是指定技术选择。例如，架构师应该决定开发团队使用基于响应式 (Reactive) 的框架进行开发，从而指导开发团队在 Angular、Elm、React.js、Vue 或其他任何基于响应式的 Web 框架之间做出选择。\n架构师偶尔需要做出特定的技术决策，以保留特定的架构特性，如可扩展性、性能或可用性。",
  "keywords": [
    "架构"
  ],
  "articleBody": "《软件架构基础（Fundamentals of Software Architecture）》被誉为和《设计数据密集型应用》一样经典的后端书籍，架构师的入门指南。本篇为该书第一章的读书笔记。\n如今，全球范围内“架构师”这一头衔炒得十分火热，但没有真正的指南来帮助开发人员成为软件架构师。\n这本书主要有三部分内容：基础、架构风格、技术和软技能。基础部分是关于软件体系结构的一般概念；架构风格部分介绍了不同的架构风格，并以一些架构特征标准进行评价；技术和软技能部分涵盖了很多好的概念，包括做出健康的架构决策、风险分析技术、演讲能力、管理团队关系、谈判、架构师职业规划等。\n 架构就是关于重要的东西……不管那是什么。—— Ralph Johnson\n 1. 什么是软件架构 学习架构就像学习艺术一样，读者必须要在特定的背景下去理解它。\n在一个动态系统中，不存在一劳永逸的解决方案。\n学习架构时，必须放在上下文中理解。架构师做的许多决定都是基于他们所处的实际情况。\n 例如，在 20 世纪末的主要目标是有效地利用共享资源，因为当时所有的基础设施都是昂贵的商业化产品：操作系统、服务器和数据库等等。如果你在 2002 年告诉主管，“我有一个革命性的架构好主意，每个服务都运行在自己隔离的机器上，有自己的专用数据库……（即描述今天的微服务架构）所以，我需要 50 个 Windows 的许可证，另外 30 个服务器许可证，以及至少 50 个数据库许可证。”在 2002 年想构建这样的微服务架构成本之高难以想象。然而这几年，随着开源运动的兴起，以及 DevOps 的出现，我们可以合理地构建一个如上所述的架构。\n 整个行业都在努力精确定义“软件架构”，有些称为系统的蓝图，有些定义为开发的路线图。本书关于架构的定义主要从四个方面：\n 系统的结构（Structure） 系统所支持的架构特性、能力（Architecture characteristics） 架构决策（Architecture decisions） 设计原则（Design principles）  系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。 架构特性多以 “-ility” 结尾（例如 Availability、Scalability） 架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。 设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。 2. 对架构师的 8 个期待 2.1 做出架构决定 架构师应确定架构和设计原则，用于指导团队、部门或整个企业的技术决策。\n架构师应该指导而不是指定技术选择。例如，架构师应该决定开发团队使用基于响应式 (Reactive) 的框架进行开发，从而指导开发团队在 Angular、Elm、React.js、Vue 或其他任何基于响应式的 Web 框架之间做出选择。\n架构师偶尔需要做出特定的技术决策，以保留特定的架构特性，如可扩展性、性能或可用性。\n架构师经常为找到正确的界线而苦恼。\n2.2 持续分析架构 多数架构都会经历结构性衰变，当开发人员进行编码或设计变更时，会影响到所需的架构特性，如性能、可用性和可扩展性。架构师需要评估三年或更长时间前定义的架构在今天的可行性。\n另一方面，架构师还常常忘记测试和发布环境。敏捷性有很大的好处，如果团队需要几周的时间来测试变更，而发布又需要几个月的时间，那么架构师就无法实现整体架构的敏捷性。\n2.3 紧跟最新趋势 架构师要跟上最新的技术和行业趋势。\n开发人员必须掌握他们每天使用的最新技术，以保持代码能力(并保住一份工作！)。架构师有一个更关键的要求，就是要掌握最新的技术和行业趋势。架构师所做的决定往往是长期的，难以改变的，了解和跟踪关键趋势有助于架构师为未来做好准备，做出正确的决定。\n2.4 确保遵守各项决定 架构师要不断验证开发团队是否遵循架构师定义、记录和传达的架构决策和设计原则。\n 考虑这样的场景：架构师做出一个决定，在分层架构中限制对数据库的访问，只限于业务层和服务层（而不是表现层）。这意味着表现层必须经过架构的所有层才能进行最简单的数据库调用。用户界面开发人员可能不同意这个决定，出于性能考虑而直接访问数据库。然而，架构师做出这个架构决策是有特定原因的：控制变化。通过保持各层独立，可以在不影响表现层的情况下进行数据库变更。如果不确保架构决策的合规性，就会发生类似这样的违规行为，架构将无法满足所需的架构特性，应用程序或系统将无法按预期工作。\n 2.5 多样化的接触和经验 架构师要接触多种多样的技术、框架、平台和环境。\n现在的大多数环境都是异构的，一个架构师至少应该知道如何与多个系统和服务对接，不管这些系统或服务是用什么语言、平台和技术编写的。\n最好方法之一是让架构师延伸自己的舒适区，只关注单一技术或平台是一个安全的避风港，一个好的软件架构师应该积极寻找机会，以获得多种语言、平台和技术的经验，关注技术广度而不只是技术深度。\n2.6 具备业务领域知识 一个架构师要有一定的业务领域专业知识。\n有效的软件架构师不仅了解技术，还了解业务问题。如果没有业务领域的知识，就很难理解业务问题、目标和需求，很难设计出满足业务需求的有效架构。\n最成功的架构师是那些拥有广泛的、实践性的技术知识，再加上对某一特定领域的深刻了解的人。这些软件架构师能够使用这些利益相关者所能理解的领域知识和语言，与主管和业务用户进行有效的沟通。\n2.7 具备人际交往能力 架构师应具备卓越的人际交往能力，包括团队合作、促进和领导能力。\n拥有卓越的领导力和人际交往能力是大多数开发人员和架构师难以企及的期望。作为技术专家，开发人员和架构师喜欢解决技术问题，而不是人的问题。\n架构师不仅要为团队提供技术指导，还要带领开发团队完成架构的实施。无论架构师的角色和头衔是什么，领导能力是成为一个软件架构师不可或缺的。\n2.8 理解和驾驭企业政治 架构师要了解企业的政治氛围，并能驾驭政治。\n在一本关于软件架构的书中谈论谈判和驾驭办公室政治，可能看起来比较奇怪。主要的一点是，几乎架构师的每一个决策都会受到挑战。由于涉及到成本或工作量（时间）的增加，架构决策会受到产品、项目经理、开发和业务利益相关者的挑战，因为他们觉得自己的方法更好。无论在哪种情况下，架构师都必须驾驭公司的政治，并应用基本的谈判技巧来获得批准。\n架构师不像开发，可以自行设计代码结构、类、设计模式甚至是语言而不需要批准，架构师做出广泛而重要的决策，必须为几乎每一个决策进行论证和争取。\n3. 架构师和其它的交集 3.1 工程实践 将软件开发过程与软件工程实践分开是有益的。所谓过程，我们指的是如何组建和管理团队，如何进行会议以及工作流组织，指的是人们如何组织和互动的机制。而**软件工程实践则是指那些已经说明了的、可重复效益的与过程无关的实践。**例如，持续集成是一种经过验证的工程实践，它不依赖于特定的过程。\n注重工程实践很重要：\n 首先，软件开发缺乏许多比较成熟的工程学科的特点。例如，土木工程可以比软件工程更准确地预测结构变化。 其次，**软件开发的一个致命弱点是估算–多少时间，多少资源，多少钱？**这种困难一部分在于陈旧的会计无法适应软件开发的探索性；但另一部分是因为我们传统上不擅长估算，部分原因是因为 unknown unknowns。  unknown unknowns 是软件系统的克星：没有人知道会出现的东西，却又意外地出现了。例如：某个意外的 bug 出现。\n 所有的架构都会因为 unknown unknowns 而变成迭代式的，敏捷只是认识到了这一点，并且更早去做了。（All architectures become iterative because of unknown unknowns, Agile just recognizes this and does it sooner.）\n 迭代流程更符合软件架构的本质，试图使用像瀑布这样的陈旧流程来构建微服务这样的现代系统的团队会发现，一个陈旧的流程忽视了软件如何结合在一起的现实，会产生大量的摩擦。\n如图所示，软件系统的架构由需求和所有其他架构特征组成。\n采用敏捷工程实践，如持续集成、自动机器供应和类似的实践，使构建弹性架构变得更容易。这也说明了架构与工程实践是如何相互交织在一起的。\n3.2 运维/DevOps 架构和相关领域之间最近最明显的交集发生在 DevOps 的出现。许多公司认为运维是与软件开发是分离的，在 20 世纪 90 年代和 2000 年代设计的架构都假设架构师无法控制运维，架构师们被迫围绕引入的限制进行防御性设计。因此，他们构建了能够在内部处理规模、性能、弹性和其他一系列能力的架构。这种设计的副作用是大大增加了架构的复杂性。\n微服务风格架构的构建者们意识到，通过在架构和运维之间建立一个联络点，架构师可以简化设计，依靠运维来处理他们最擅长的事情。因此，意识到资源的挪用导致了意外的复杂性，架构师和运维合作创建了微服务。\n3.3 流程 软件架构与软件开发过程大多是正交的（相互不可替代的），大多数关于软件架构的书籍都忽略了软件开发过程。例如，在过去的几十年里，由于软件的性质，许多公司都采用了敏捷开发方法。架构师在敏捷项目中得到更快的反馈，这使得架构师可以更积极地进行实验。\n所有的架构都会变成迭代式的，这只是时间问题。为此，我们要在整个过程中假设敏捷方法论的基线，并允许适当的例外。例如，许多单体架构因为年龄、政治或其他与软件无关的因素而使用旧流程的情况还是很常见的。\n3.4 数据 很大一部分严肃的应用程序开发包括外部数据存储，通常采用关系型(或越来越多的 NoSQL)数据库的形式。然而，许多关于软件架构的书籍只对架构的这一重要方面进行了轻描淡写的处理。代码和数据具有共生关系：两者缺一不可。\n4. 软件架构法则 软件架构第一定律： 软件架构中的所有东西都是一种权衡。(Everything in software architecture is a trade-off.)\n我们对软件架构的定义超越了结构的范畴，包含了原则、特性等，架构的范围比单纯的结构更广，体现在我们的软件架构第二定律中： 为什么比怎么做更重要。（Why is more important than how.）\n",
  "wordCount" : "171",
  "inLanguage": "en",
  "datePublished": "2021-01-07T00:00:00Z",
  "dateModified": "2021-01-07T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "多颗糖"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://tangwz.com/post/fosa1/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "多颗糖",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tangwz.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://tangwz.com/" accesskey="h" title="多颗糖 (Alt + H)">多颗糖</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://tangwz.com/page/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
            <li>
                <a href="https://tangwz.com/page/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://tangwz.com/page/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://tangwz.com/">Home</a>&nbsp;»&nbsp;<a href="https://tangwz.com/post/">Posts</a></div>
    <h1 class="post-title">
       软件架构基础 1：基本介绍
    </h1>
    <div class="post-meta"><span title='2021-01-07 00:00:00 +0000 UTC'>January 7, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;多颗糖&nbsp;|&nbsp;<a href="https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content/post/fosa1.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e4%bb%80%e4%b9%88%e6%98%af%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84" aria-label="1. 什么是软件架构">1. 什么是软件架构</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%bb%93%e6%9e%84%e6%8c%87%e7%9a%84%e6%98%af%e7%b3%bb%e7%bb%9f%e5%ae%9e%e7%8e%b0%e6%9e%b6%e6%9e%84%e9%a3%8e%e6%a0%bc%e7%9a%84%e7%b1%bb%e5%9e%8b%e5%a6%82%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%88%86%e5%b1%82%e6%88%96%e5%be%ae%e5%86%85%e6%a0%b8%e4%bd%86%e4%bb%85%e4%bb%85%e9%80%9a%e8%bf%87%e7%bb%93%e6%9e%84%e6%9d%a5%e6%8f%8f%e8%bf%b0%e4%b8%80%e4%b8%aa%e6%9e%b6%e6%9e%84%e5%b9%b6%e4%b8%8d%e8%83%bd%e5%ae%8c%e5%85%a8%e9%98%90%e6%98%8e%e4%b8%80%e4%b8%aa%e6%9e%b6%e6%9e%84" aria-label="系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。">系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。</a></li>
                <li>
                    <a href="#%e6%9e%b6%e6%9e%84%e7%89%b9%e6%80%a7%e5%a4%9a%e4%bb%a5--ility-%e7%bb%93%e5%b0%be%e4%be%8b%e5%a6%82-availabilityscalability" aria-label="架构特性多以 &amp;ldquo;-ility&amp;rdquo; 结尾（例如 Availability、Scalability）">架构特性多以 &ldquo;<em>-ility</em>&rdquo; 结尾（例如 Availability、Scalability）</a></li>
                <li>
                    <a href="#%e6%9e%b6%e6%9e%84%e5%86%b3%e7%ad%96%e5%ae%9a%e4%b9%89%e4%ba%86%e7%b3%bb%e7%bb%9f%e5%ba%94%e8%af%a5%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e7%9a%84%e8%a7%84%e5%88%99%e4%be%8b%e5%a6%82%e6%9e%b6%e6%9e%84%e5%b8%88%e5%8f%af%e8%83%bd%e4%bc%9a%e5%81%9a%e5%87%ba%e4%b8%80%e4%b8%aa%e6%9e%b6%e6%9e%84%e5%86%b3%e7%ad%96%e5%8d%b3%e5%9c%a8%e5%88%86%e5%b1%82%e6%9e%b6%e6%9e%84%e4%b8%ad%e5%8f%aa%e6%9c%89%e4%b8%9a%e5%8a%a1%e5%b1%82%e5%92%8c%e6%9c%8d%e5%8a%a1%e5%b1%82%e5%8f%af%e4%bb%a5%e8%ae%bf%e9%97%ae%e6%95%b0%e6%8d%ae%e5%ba%93%e8%a7%81%e5%9b%be%e9%99%90%e5%88%b6%e8%a1%a8%e7%8e%b0%e5%b1%82%e7%9b%b4%e6%8e%a5%e8%b0%83%e7%94%a8%e6%95%b0%e6%8d%ae%e5%ba%93%e6%9e%b6%e6%9e%84%e5%86%b3%e7%ad%96%e5%bd%a2%e6%88%90%e4%ba%86%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%ba%a6%e6%9d%9f%e5%b9%b6%e6%8c%87%e5%af%bc%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f%e4%bb%80%e4%b9%88%e6%98%af%e5%85%81%e8%ae%b8%e7%9a%84%e4%bb%80%e4%b9%88%e6%98%af%e4%b8%8d%e5%85%81%e8%ae%b8%e7%9a%84" aria-label="架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。">架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。</a></li>
                <li>
                    <a href="#%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99%e4%b8%8e%e6%9e%b6%e6%9e%84%e5%86%b3%e7%ad%96%e7%9a%84%e4%b8%8d%e5%90%8c%e4%b9%8b%e5%a4%84%e5%9c%a8%e4%ba%8e%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99%e6%98%af%e4%b8%80%e4%b8%aa%e6%8c%87%e5%af%bc%e6%96%b9%e9%92%88%e8%80%8c%e4%b8%8d%e6%98%af%e4%b8%80%e4%b8%aa%e7%a1%ac%e6%80%a7%e8%a7%84%e5%ae%9a%e4%be%8b%e5%a6%82%e5%9b%be%e7%a4%ba%e7%9a%84%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99%e6%8c%87%e5%87%ba%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f%e5%ba%94%e8%af%a5%e5%9c%a8%e5%be%ae%e6%9c%8d%e5%8a%a1%e6%9e%b6%e6%9e%84%e4%b8%ad%e7%9a%84%e6%9c%8d%e5%8a%a1%e4%b9%8b%e9%97%b4%e4%bc%a0%e9%80%92%e5%bc%82%e6%ad%a5%e6%b6%88%e6%81%af%e6%9d%a5%e6%8f%90%e9%ab%98%e6%80%a7%e8%83%bd%e4%b8%80%e4%b8%aa%e6%9e%b6%e6%9e%84%e5%86%b3%e7%ad%96%e6%b0%b8%e8%bf%9c%e4%b8%8d%e5%8f%af%e8%83%bd%e6%b6%b5%e7%9b%96%e6%9c%8d%e5%8a%a1%e4%b9%8b%e9%97%b4%e9%80%9a%e4%bf%a1%e7%9a%84%e6%af%8f%e4%b8%80%e4%b8%aa%e6%9d%a1%e4%bb%b6%e5%92%8c%e9%80%89%e9%a1%b9%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99%e4%b8%ba%e9%a6%96%e9%80%89%e6%96%b9%e6%b3%95%e5%9c%a8%e6%9c%ac%e4%be%8b%e4%b8%ad%e5%bc%82%e6%ad%a5%e6%b6%88%e6%81%af%e4%bc%a0%e9%80%92%e6%8f%90%e4%be%9b%e6%8c%87%e5%af%bc%e5%85%81%e8%ae%b8%e5%bc%80%e5%8f%91%e4%ba%ba%e5%91%98%e5%9c%a8%e7%89%b9%e5%ae%9a%e6%83%85%e5%86%b5%e4%b8%8b%e9%80%89%e6%8b%a9%e6%9b%b4%e5%90%88%e9%80%82%e7%9a%84%e9%80%9a%e4%bf%a1%e5%8d%8f%e8%ae%ae%e5%a6%82-rest-%e6%88%96-grpc" aria-label="设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。">设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#2-%e5%af%b9%e6%9e%b6%e6%9e%84%e5%b8%88%e7%9a%84-8-%e4%b8%aa%e6%9c%9f%e5%be%85" aria-label="2. 对架构师的 8 个期待">2. 对架构师的 8 个期待</a><ul>
                        
                <li>
                    <a href="#21-%e5%81%9a%e5%87%ba%e6%9e%b6%e6%9e%84%e5%86%b3%e5%ae%9a" aria-label="2.1 做出架构决定">2.1 做出架构决定</a></li>
                <li>
                    <a href="#22-%e6%8c%81%e7%bb%ad%e5%88%86%e6%9e%90%e6%9e%b6%e6%9e%84" aria-label="2.2 持续分析架构">2.2 持续分析架构</a></li>
                <li>
                    <a href="#23-%e7%b4%a7%e8%b7%9f%e6%9c%80%e6%96%b0%e8%b6%8b%e5%8a%bf" aria-label="2.3 紧跟最新趋势">2.3 紧跟最新趋势</a></li>
                <li>
                    <a href="#24-%e7%a1%ae%e4%bf%9d%e9%81%b5%e5%ae%88%e5%90%84%e9%a1%b9%e5%86%b3%e5%ae%9a" aria-label="2.4 确保遵守各项决定">2.4 确保遵守各项决定</a></li>
                <li>
                    <a href="#25-%e5%a4%9a%e6%a0%b7%e5%8c%96%e7%9a%84%e6%8e%a5%e8%a7%a6%e5%92%8c%e7%bb%8f%e9%aa%8c" aria-label="2.5 多样化的接触和经验">2.5 多样化的接触和经验</a></li>
                <li>
                    <a href="#26-%e5%85%b7%e5%a4%87%e4%b8%9a%e5%8a%a1%e9%a2%86%e5%9f%9f%e7%9f%a5%e8%af%86" aria-label="2.6 具备业务领域知识">2.6 具备业务领域知识</a></li>
                <li>
                    <a href="#27-%e5%85%b7%e5%a4%87%e4%ba%ba%e9%99%85%e4%ba%a4%e5%be%80%e8%83%bd%e5%8a%9b" aria-label="2.7 具备人际交往能力">2.7 具备人际交往能力</a></li>
                <li>
                    <a href="#28-%e7%90%86%e8%a7%a3%e5%92%8c%e9%a9%be%e9%a9%ad%e4%bc%81%e4%b8%9a%e6%94%bf%e6%b2%bb" aria-label="2.8 理解和驾驭企业政治">2.8 理解和驾驭企业政治</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e6%9e%b6%e6%9e%84%e5%b8%88%e5%92%8c%e5%85%b6%e5%ae%83%e7%9a%84%e4%ba%a4%e9%9b%86" aria-label="3. 架构师和其它的交集">3. 架构师和其它的交集</a><ul>
                        
                <li>
                    <a href="#31-%e5%b7%a5%e7%a8%8b%e5%ae%9e%e8%b7%b5" aria-label="3.1 工程实践">3.1 工程实践</a></li>
                <li>
                    <a href="#32-%e8%bf%90%e7%bb%b4devops" aria-label="3.2 运维/DevOps">3.2 运维/DevOps</a></li>
                <li>
                    <a href="#33-%e6%b5%81%e7%a8%8b" aria-label="3.3 流程">3.3 流程</a></li>
                <li>
                    <a href="#34-%e6%95%b0%e6%8d%ae" aria-label="3.4 数据">3.4 数据</a></li></ul>
                </li>
                <li>
                    <a href="#4-%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e6%b3%95%e5%88%99" aria-label="4. 软件架构法则">4. 软件架构法则</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>《软件架构基础（Fundamentals of Software Architecture）》被誉为和《设计数据密集型应用》一样经典的后端书籍，架构师的入门指南。本篇为该书第一章的读书笔记。</p>
<p><img loading="lazy" src="/media/images/20210107-fosa1/fosa.jpg" alt=""  />
</p>
<p>如今，全球范围内“架构师”这一头衔炒得十分火热，但没有真正的指南来帮助开发人员成为软件架构师。</p>
<p>这本书主要有三部分内容：基础、架构风格、技术和软技能。基础部分是关于软件体系结构的一般概念；架构风格部分介绍了不同的架构风格，并以一些架构特征标准进行评价；技术和软技能部分涵盖了很多好的概念，包括做出健康的架构决策、风险分析技术、演讲能力、管理团队关系、谈判、架构师职业规划等。</p>
<blockquote>
<p>架构就是关于重要的东西&hellip;&hellip;不管那是什么。—— Ralph Johnson</p>
</blockquote>
<h2 id="1-什么是软件架构">1. 什么是软件架构<a hidden class="anchor" aria-hidden="true" href="#1-什么是软件架构">#</a></h2>
<p>学习架构就像学习艺术一样，读者必须要在特定的背景下去理解它。</p>
<p>在一个动态系统中，不存在一劳永逸的解决方案。</p>
<p>学习架构时，必须放在上下文中理解。架构师做的许多决定都是基于他们所处的实际情况。</p>
<blockquote>
<p>例如，在 20 世纪末的主要目标是有效地利用共享资源，因为当时所有的基础设施都是昂贵的商业化产品：操作系统、服务器和数据库等等。如果你在 2002 年告诉主管，“我有一个革命性的架构好主意，每个服务都运行在自己隔离的机器上，有自己的专用数据库……（即描述今天的微服务架构）所以，我需要 50 个 Windows 的许可证，另外 30 个服务器许可证，以及至少 50 个数据库许可证。”在 2002 年想构建这样的微服务架构成本之高难以想象。然而这几年，随着开源运动的兴起，以及 DevOps 的出现，我们可以合理地构建一个如上所述的架构。</p>
</blockquote>
<p>整个行业都在努力精确定义“软件架构”，有些称为系统的蓝图，有些定义为开发的路线图。本书关于架构的定义主要从四个方面：</p>
<ul>
<li>系统的结构（Structure）</li>
<li>系统所支持的架构特性、能力（Architecture characteristics）</li>
<li>架构决策（Architecture decisions）</li>
<li>设计原则（Design principles）</li>
</ul>
<h4 id="系统的结构指的是系统实现架构风格的类型如微服务分层或微内核但仅仅通过结构来描述一个架构并不能完全阐明一个架构">系统的结构指的是系统实现架构风格的类型（如微服务、分层或微内核）。但仅仅通过结构来描述一个架构，并不能完全阐明一个架构。<a hidden class="anchor" aria-hidden="true" href="#系统的结构指的是系统实现架构风格的类型如微服务分层或微内核但仅仅通过结构来描述一个架构并不能完全阐明一个架构">#</a></h4>
<p><img loading="lazy" src="/media/images/20210107-fosa1/structure.jpg" alt=""  />
</p>
<h4 id="架构特性多以--ility-结尾例如-availabilityscalability">架构特性多以 &ldquo;<em>-ility</em>&rdquo; 结尾（例如 Availability、Scalability）<a hidden class="anchor" aria-hidden="true" href="#架构特性多以--ility-结尾例如-availabilityscalability">#</a></h4>
<p><img loading="lazy" src="/media/images/20210107-fosa1/Architecture-characteristics.jpg" alt=""  />
</p>
<h4 id="架构决策定义了系统应该如何构建的规则例如架构师可能会做出一个架构决策即在分层架构中只有业务层和服务层可以访问数据库见图限制表现层直接调用数据库架构决策形成了系统的约束并指导开发团队什么是允许的什么是不允许的">架构决策定义了系统应该如何构建的规则。例如，架构师可能会做出一个架构决策，即在分层架构中只有业务层和服务层可以访问数据库（见图），限制表现层直接调用数据库。架构决策形成了系统的约束，并指导开发团队什么是允许的，什么是不允许的。<a hidden class="anchor" aria-hidden="true" href="#架构决策定义了系统应该如何构建的规则例如架构师可能会做出一个架构决策即在分层架构中只有业务层和服务层可以访问数据库见图限制表现层直接调用数据库架构决策形成了系统的约束并指导开发团队什么是允许的什么是不允许的">#</a></h4>
<p><img loading="lazy" src="/media/images/20210107-fosa1/Architecture-decisions.jpg" alt=""  />
</p>
<h4 id="设计原则与架构决策的不同之处在于设计原则是一个指导方针而不是一个硬性规定例如图示的设计原则指出开发团队应该在微服务架构中的服务之间传递异步消息来提高性能一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项设计原则为首选方法在本例中异步消息传递提供指导允许开发人员在特定情况下选择更合适的通信协议如-rest-或-grpc">设计原则与架构决策的不同之处在于，设计原则是一个指导方针，而不是一个硬性规定。例如，图示的设计原则指出，开发团队应该在微服务架构中的服务之间传递异步消息来提高性能。一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项，设计原则为首选方法（在本例中，异步消息传递）提供指导，允许开发人员在特定情况下选择更合适的通信协议（如 REST 或 gRPC）。<a hidden class="anchor" aria-hidden="true" href="#设计原则与架构决策的不同之处在于设计原则是一个指导方针而不是一个硬性规定例如图示的设计原则指出开发团队应该在微服务架构中的服务之间传递异步消息来提高性能一个架构决策永远不可能涵盖服务之间通信的每一个条件和选项设计原则为首选方法在本例中异步消息传递提供指导允许开发人员在特定情况下选择更合适的通信协议如-rest-或-grpc">#</a></h4>
<p><img loading="lazy" src="/media/images/20210107-fosa1/Design-principles.jpg" alt=""  />
</p>
<h2 id="2-对架构师的-8-个期待">2. 对架构师的 8 个期待<a hidden class="anchor" aria-hidden="true" href="#2-对架构师的-8-个期待">#</a></h2>
<h3 id="21-做出架构决定">2.1 做出架构决定<a hidden class="anchor" aria-hidden="true" href="#21-做出架构决定">#</a></h3>
<p>架构师应确定架构和设计原则，用于指导团队、部门或整个企业的技术决策。</p>
<p><strong>架构师应该指导而不是指定技术选择</strong>。例如，架构师应该决定开发团队使用基于响应式 (Reactive) 的框架进行开发，从而指导开发团队在 Angular、Elm、React.js、Vue 或其他任何基于响应式的 Web 框架之间做出选择。</p>
<p>架构师偶尔需要做出特定的技术决策，以保留特定的架构特性，如可扩展性、性能或可用性。</p>
<p>架构师经常为找到正确的界线而苦恼。</p>
<h3 id="22-持续分析架构">2.2 持续分析架构<a hidden class="anchor" aria-hidden="true" href="#22-持续分析架构">#</a></h3>
<p>多数架构都会经历结构性衰变，当开发人员进行编码或设计变更时，会影响到所需的架构特性，如性能、可用性和可扩展性。架构师需要评估三年或更长时间前定义的架构在今天的可行性。</p>
<p>另一方面，架构师还常常忘记测试和发布环境。敏捷性有很大的好处，如果团队需要几周的时间来测试变更，而发布又需要几个月的时间，那么架构师就无法实现整体架构的敏捷性。</p>
<h3 id="23-紧跟最新趋势">2.3 紧跟最新趋势<a hidden class="anchor" aria-hidden="true" href="#23-紧跟最新趋势">#</a></h3>
<p><strong>架构师要跟上最新的技术和行业趋势。</strong></p>
<p>开发人员必须掌握他们每天使用的最新技术，以保持代码能力(并保住一份工作！)。架构师有一个更关键的要求，就是要掌握最新的技术和行业趋势。架构师所做的决定往往是长期的，难以改变的，了解和跟踪关键趋势有助于架构师为未来做好准备，做出正确的决定。</p>
<h3 id="24-确保遵守各项决定">2.4 确保遵守各项决定<a hidden class="anchor" aria-hidden="true" href="#24-确保遵守各项决定">#</a></h3>
<p>架构师要不断验证开发团队是否遵循架构师定义、记录和传达的架构决策和设计原则。</p>
<blockquote>
<p>考虑这样的场景：架构师做出一个决定，在分层架构中限制对数据库的访问，只限于业务层和服务层（而不是表现层）。这意味着表现层必须经过架构的所有层才能进行最简单的数据库调用。用户界面开发人员可能不同意这个决定，出于性能考虑而直接访问数据库。然而，架构师做出这个架构决策是有特定原因的：控制变化。通过保持各层独立，可以在不影响表现层的情况下进行数据库变更。如果不确保架构决策的合规性，就会发生类似这样的违规行为，架构将无法满足所需的架构特性，应用程序或系统将无法按预期工作。</p>
</blockquote>
<h3 id="25-多样化的接触和经验">2.5 多样化的接触和经验<a hidden class="anchor" aria-hidden="true" href="#25-多样化的接触和经验">#</a></h3>
<p>架构师要接触多种多样的技术、框架、平台和环境。</p>
<p>现在的大多数环境都是异构的，一个架构师至少应该知道如何与多个系统和服务对接，不管这些系统或服务是用什么语言、平台和技术编写的。</p>
<p>最好方法之一是让架构师延伸自己的舒适区，只关注单一技术或平台是一个安全的避风港，一个好的软件架构师应该积极寻找机会，以获得多种语言、平台和技术的经验，关注技术广度而不只是技术深度。</p>
<h3 id="26-具备业务领域知识">2.6 具备业务领域知识<a hidden class="anchor" aria-hidden="true" href="#26-具备业务领域知识">#</a></h3>
<p>一个架构师要有一定的业务领域专业知识。</p>
<p>有效的软件架构师不仅了解技术，还了解业务问题。<strong>如果没有业务领域的知识，就很难理解业务问题、目标和需求，很难设计出满足业务需求的有效架构。</strong></p>
<p>最成功的架构师是那些拥有广泛的、实践性的技术知识，再加上对某一特定领域的深刻了解的人。这些软件架构师能够使用这些利益相关者所能理解的领域知识和语言，与主管和业务用户进行有效的沟通。</p>
<h3 id="27-具备人际交往能力">2.7 具备人际交往能力<a hidden class="anchor" aria-hidden="true" href="#27-具备人际交往能力">#</a></h3>
<p>架构师应具备卓越的人际交往能力，包括团队合作、促进和领导能力。</p>
<p><strong>拥有卓越的领导力和人际交往能力是大多数开发人员和架构师难以企及的期望</strong>。作为技术专家，开发人员和架构师喜欢解决技术问题，而不是人的问题。</p>
<p>架构师不仅要为团队提供技术指导，还要带领开发团队完成架构的实施。无论架构师的角色和头衔是什么，领导能力是成为一个软件架构师不可或缺的。</p>
<h3 id="28-理解和驾驭企业政治">2.8 理解和驾驭企业政治<a hidden class="anchor" aria-hidden="true" href="#28-理解和驾驭企业政治">#</a></h3>
<p><strong>架构师要了解企业的政治氛围，并能驾驭政治。</strong></p>
<p>在一本关于软件架构的书中谈论谈判和驾驭办公室政治，可能看起来比较奇怪。主要的一点是，<strong>几乎架构师的每一个决策都会受到挑战</strong>。由于涉及到成本或工作量（时间）的增加，架构决策会受到产品、项目经理、开发和业务利益相关者的挑战，因为他们觉得自己的方法更好。无论在哪种情况下，架构师都必须驾驭公司的政治，并应用基本的谈判技巧来获得批准。</p>
<p>架构师不像开发，可以自行设计代码结构、类、设计模式甚至是语言而不需要批准，架构师做出广泛而重要的决策，必须为几乎每一个决策进行论证和争取。</p>
<h2 id="3-架构师和其它的交集">3. 架构师和其它的交集<a hidden class="anchor" aria-hidden="true" href="#3-架构师和其它的交集">#</a></h2>
<h3 id="31-工程实践">3.1 工程实践<a hidden class="anchor" aria-hidden="true" href="#31-工程实践">#</a></h3>
<p>将软件开发过程与软件工程实践分开是有益的。所谓过程，我们指的是如何组建和管理团队，如何进行会议以及工作流组织，指的是人们如何组织和互动的机制。而**软件工程实践则是指那些已经说明了的、可重复效益的与过程无关的实践。**例如，持续集成是一种经过验证的工程实践，它不依赖于特定的过程。</p>
<p>注重工程实践很重要：</p>
<ul>
<li>首先，软件开发缺乏许多比较成熟的工程学科的特点。例如，土木工程可以比软件工程更准确地预测结构变化。</li>
<li>其次，**软件开发的一个致命弱点是估算&ndash;多少时间，多少资源，多少钱？**这种困难一部分在于陈旧的会计无法适应软件开发的探索性；但另一部分是因为我们传统上不擅长估算，部分原因是因为 unknown unknowns。</li>
</ul>
<p>unknown unknowns 是软件系统的克星：没有人知道会出现的东西，却又意外地出现了。例如：某个意外的 bug 出现。</p>
<blockquote>
<p>所有的架构都会因为 unknown unknowns 而变成迭代式的，敏捷只是认识到了这一点，并且更早去做了。（All architectures become iterative because of unknown unknowns, Agile just recognizes this and does it sooner.）</p>
</blockquote>
<p>迭代流程更符合软件架构的本质，试图使用像瀑布这样的陈旧流程来构建微服务这样的现代系统的团队会发现，一个陈旧的流程忽视了软件如何结合在一起的现实，会产生大量的摩擦。</p>
<p><img loading="lazy" src="/media/images/20210107-fosa1/requirements.jpg" alt=""  />
</p>
<p>如图所示，<strong>软件系统的架构由需求和所有其他架构特征组成</strong>。</p>
<p>采用敏捷工程实践，如持续集成、自动机器供应和类似的实践，使构建弹性架构变得更容易。这也说明了架构与工程实践是如何相互交织在一起的。</p>
<h3 id="32-运维devops">3.2 运维/DevOps<a hidden class="anchor" aria-hidden="true" href="#32-运维devops">#</a></h3>
<p>架构和相关领域之间最近最明显的交集发生在 DevOps 的出现。许多公司认为运维是与软件开发是分离的，在 20 世纪 90 年代和 2000 年代设计的架构都假设架构师无法控制运维，架构师们被迫围绕引入的限制进行防御性设计。因此，他们构建了能够在内部处理规模、性能、弹性和其他一系列能力的架构。这种设计的副作用是大大增加了架构的复杂性。</p>
<p>微服务风格架构的构建者们意识到，通过在架构和运维之间建立一个联络点，架构师可以简化设计，依靠运维来处理他们最擅长的事情。因此，意识到资源的挪用导致了意外的复杂性，架构师和运维合作创建了微服务。</p>
<h3 id="33-流程">3.3 流程<a hidden class="anchor" aria-hidden="true" href="#33-流程">#</a></h3>
<p>软件架构与软件开发过程大多是正交的（相互不可替代的），大多数关于软件架构的书籍都忽略了软件开发过程。例如，在过去的几十年里，由于软件的性质，许多公司都采用了敏捷开发方法。架构师在敏捷项目中得到更快的反馈，这使得架构师可以更积极地进行实验。</p>
<p>所有的架构都会变成迭代式的，这只是时间问题。为此，我们要在整个过程中假设敏捷方法论的基线，并允许适当的例外。例如，许多单体架构因为年龄、政治或其他与软件无关的因素而使用旧流程的情况还是很常见的。</p>
<h3 id="34-数据">3.4 数据<a hidden class="anchor" aria-hidden="true" href="#34-数据">#</a></h3>
<p>很大一部分严肃的应用程序开发包括外部数据存储，通常采用关系型(或越来越多的 NoSQL)数据库的形式。然而，许多关于软件架构的书籍只对架构的这一重要方面进行了轻描淡写的处理。代码和数据具有共生关系：两者缺一不可。</p>
<h2 id="4-软件架构法则">4. 软件架构法则<a hidden class="anchor" aria-hidden="true" href="#4-软件架构法则">#</a></h2>
<p>软件架构第一定律：
<strong>软件架构中的所有东西都是一种权衡。(Everything in software architecture is a trade-off.)</strong></p>
<p>我们对软件架构的定义超越了结构的范畴，包含了原则、特性等，架构的范围比单纯的结构更广，体现在我们的软件架构第二定律中：
<strong>为什么比怎么做更重要。（Why is more important than how.）</strong></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://tangwz.com/tags/%E6%9E%B6%E6%9E%84/">架构</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://tangwz.com/post/fosa2/">
    <span class="title">« Prev Page</span>
    <br>
    <span> 软件架构基础 2：架构思维</span>
  </a>
  <a class="next" href="https://tangwz.com/post/impl-basic-paxos/">
    <span class="title">Next Page »</span>
    <br>
    <span>Golang 实现 Paxos 分布式共识算法</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share  软件架构基础 1：基本介绍 on twitter"
        href="https://twitter.com/intent/tweet/?text=%20%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e5%9f%ba%e7%a1%80%201%ef%bc%9a%e5%9f%ba%e6%9c%ac%e4%bb%8b%e7%bb%8d&amp;url=https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f&amp;hashtags=%e6%9e%b6%e6%9e%84">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  软件架构基础 1：基本介绍 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f&amp;title=%20%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e5%9f%ba%e7%a1%80%201%ef%bc%9a%e5%9f%ba%e6%9c%ac%e4%bb%8b%e7%bb%8d&amp;summary=%20%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e5%9f%ba%e7%a1%80%201%ef%bc%9a%e5%9f%ba%e6%9c%ac%e4%bb%8b%e7%bb%8d&amp;source=https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  软件架构基础 1：基本介绍 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f&title=%20%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e5%9f%ba%e7%a1%80%201%ef%bc%9a%e5%9f%ba%e6%9c%ac%e4%bb%8b%e7%bb%8d">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  软件架构基础 1：基本介绍 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  软件架构基础 1：基本介绍 on whatsapp"
        href="https://api.whatsapp.com/send?text=%20%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e5%9f%ba%e7%a1%80%201%ef%bc%9a%e5%9f%ba%e6%9c%ac%e4%bb%8b%e7%bb%8d%20-%20https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share  软件架构基础 1：基本介绍 on telegram"
        href="https://telegram.me/share/url?text=%20%e8%bd%af%e4%bb%b6%e6%9e%b6%e6%9e%84%e5%9f%ba%e7%a1%80%201%ef%bc%9a%e5%9f%ba%e6%9c%ac%e4%bb%8b%e7%bb%8d&amp;url=https%3a%2f%2ftangwz.com%2fpost%2ffosa1%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://tangwz.com/">多颗糖</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
